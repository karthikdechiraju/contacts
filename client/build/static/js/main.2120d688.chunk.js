(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),c=(a(102),a(13)),l=a(33),s=a(191),u=a(189),d=a(126),m=a(86),p=a(171),f=a(11),g=a(82),h=a.n(g),b=a(83),E=a(187),v=a(188),w=a(177),y=a(186),j=a(195),O=a(176),S=a(125),C=a(174),k=a(200),x=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"email",numeric:!1,disablePadding:!1,label:"Email Address"},{id:"country_code",numeric:!1,disablePadding:!1,label:"Country Code"},{id:"created_at",numeric:!1,disablePadding:!1,label:"Created Date"},{id:"updated_at",numeric:!1,disablePadding:!1,label:"Last Modified date"}],_=Object(p.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),P=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort,i=_();return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,x.map((function(e){return r.a.createElement(w.a,{key:e.id,align:"left",padding:"default",sortDirection:a===e.id&&t},r.a.createElement(k.a,{active:a===e.id,direction:a===e.id?t:"asc",onClick:(o=e.id,function(e){n(e,o)}),style:{fontWeight:"bold"}},e.label,a===e.id?r.a.createElement("span",{className:i.visuallyHidden},"desc"===t?"sorted descending":"sorted ascending"):null));var o})))))},B=a(43),I=a.n(B),N={Authorization:"Basic ZGVtbzpwQDU1dzByZA==","Content-Type":"application/json"},D=function(e){var t=new Date(e);return t.getDate()+"-"+parseInt(t.getMonth()+1)+"-"+t.getFullYear()},R=a(178),W=a(84),z=a(201),A=a(80),L=a.n(A),H=["edit","delete"],T=function(e){var t=r.a.useState(null),a=Object(c.a)(t,2),n=a[0],i=a[1],o=Boolean(n),l=function(t,a){return function(){t&&("edit"===t?e.onEdit(a):e.onDelete(a)),i(null)}};return r.a.createElement("div",null,r.a.createElement(R.a,{"aria-label":"more","aria-controls":"long-menu",onClick:function(e){i(e.currentTarget)}},r.a.createElement(L.a,null)),r.a.createElement(W.a,{id:"long-menu",anchorEl:n,open:o,onClose:l(),PaperProps:{style:{maxHeight:216,width:"20ch"}}},H.map((function(t){return r.a.createElement(z.a,{key:t,onClick:l(t,e.data)},t)}))))},G=a(59),M=a(185),q=a(196),F=a(198),J=a(184),V=a(181),Z=a(180),$=function(e){var t=r.a.useState(""),a=Object(c.a)(t,2),i=a[0],o=a[1],l=r.a.useState(""),s=Object(c.a)(l,2),u=s[0],d=s[1],m=r.a.useState(""),p=Object(c.a)(m,2),f=p[0],g=p[1],h=r.a.useState(!1),b=Object(c.a)(h,2),E=b[0],v=b[1],w=r.a.useState(!1),y=Object(c.a)(w,2),j=y[0],O=y[1],S=r.a.useState(!1),C=Object(c.a)(S,2),k=C[0],x=C[1];Object(n.useEffect)((function(){e.data&&e.data.name&&o(e.data.name),e.data&&e.data.email&&d(e.data.email),e.data&&e.data.country_code&&g(e.data.country_code)}),[e.data]);var _=function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},P=function(){O(!1),x(!1),v(!1),o(""),d(""),g("")};return r.a.createElement(F.a,{open:e.open,onClose:function(){P(),e.handleClose()},"aria-labelledby":"form-dialog-title"},r.a.createElement(Z.a,{id:"form-dialog-title"},e.data?"Edit contact":"Add new contact"),r.a.createElement(V.a,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(q.a,{margin:"dense",id:"name",label:"Name of the person",type:"text",variant:"outlined",fullWidth:!0,style:{marginRight:30},value:i,onChange:function(e){return o(e.target.value)},error:E}),r.a.createElement(q.a,{margin:"dense",id:"country_code",label:"Country code",type:"text",variant:"outlined",fullWidth:!0,value:f,onChange:function(e){return g(e.target.value)},error:k})),r.a.createElement(q.a,{margin:"dense",id:"email",label:"Email address",type:"email",variant:"outlined",fullWidth:!0,value:u,onChange:function(e){return d(e.target.value)},error:j})),r.a.createElement(J.a,null,r.a.createElement(M.a,{onClick:function(){if(""!==i&&""!==u&&_(u)&&""!==f){var t=e.data?e.data:{};e.handleSubmit(Object(G.a)(Object(G.a)({},t),{},{name:i,email:u,country_code:f})),P()}else O(""===u||!_(u)),x(""===f),v(""===i)},variant:"contained",color:"primary"},"SAVE")))},Q=a(81),U=a.n(Q),Y=a(190),K=a(193),X=a(197);function ee(e){return r.a.createElement(K.a,Object.assign({elevation:6,variant:"filled"},e))}var te=function(e){return r.a.createElement(X.a,{open:e.message&&""!==e.message},r.a.createElement(ee,{severity:e.isError?"error":"success"},e.message))};function ae(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var ne=Object(p.a)((function(e){return{root:{width:"100%",marginBottom:100},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),re=function(e){var t=ne(),a=r.a.useState("asc"),i=Object(c.a)(a,2),o=i[0],l=i[1],s=r.a.useState("calories"),u=Object(c.a)(s,2),d=u[0],m=u[1],p=r.a.useState(0),f=Object(c.a)(p,2),g=f[0],h=f[1],C=r.a.useState([]),k=Object(c.a)(C,2),x=k[0],_=k[1],B=r.a.useState([]),R=Object(c.a)(B,2),W=R[0],z=R[1],A=r.a.useState(!1),L=Object(c.a)(A,2),H=L[0],G=L[1],M=r.a.useState(null),q=Object(c.a)(M,2),F=q[0],J=q[1],V=r.a.useState({isError:!1,message:""}),Z=Object(c.a)(V,2),Q=Z[0],K=Z[1];Object(n.useEffect)((function(){I.a.get("/api/contacts",{headers:N}).then((function(e){_(e.data.data),z(e.data.data)}))}),[]),Object(n.useEffect)((function(){if(""!==e.search){var t=x.filter((function(t){return t.name.includes(e.search)||t.email.includes(e.search)}));_(t)}else _(W)}),[e.search,W]);var X=function(e){J(e),G(!0)},ee=function(e,t){K({isError:e,message:t}),setTimeout((function(){K({isError:!1,message:""})}),5e3)},re=function(e){var t;(t=e._id,I.a.delete("/api/contacts?id=".concat(t),{headers:N})).then((function(t){var a=x.filter((function(t){return t._id!==e._id}));_(a),ee(!1,"contact deleted successfully")})).catch((function(e){ee(!0,e.response&&e.response.data&&e.response.data.error?e.response.data.error:"Something went wrong")}))};return r.a.createElement("div",{className:t.root},r.a.createElement(te,{isError:Q.isError,message:Q.message}),r.a.createElement(S.a,{className:t.paper},r.a.createElement(y.a,null,r.a.createElement(E.a,{className:t.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},r.a.createElement(P,{classes:t,order:o,orderBy:d,onRequestSort:function(e,t){l(d===t&&"asc"===o?"desc":"asc"),m(t)},rowCount:x.length}),r.a.createElement(v.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(x,function(e,t){return"desc"===e?function(e,a){return ae(e,a,t)}:function(e,a){return-ae(e,a,t)}}(o,d)).slice(10*g,10*g+10).map((function(e){return r.a.createElement(O.a,{hover:!0,tabIndex:-1,key:e.name},r.a.createElement(w.a,null,e.name),r.a.createElement(w.a,null,e.email),r.a.createElement(w.a,null,e.country_code),r.a.createElement(w.a,null,D(e.created_at)),r.a.createElement(w.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},D(e.updated_at),r.a.createElement(T,{onDelete:re,onEdit:X,data:e})))}))))),r.a.createElement(j.a,{rowsPerPageOptions:[10],component:"div",count:x.length,rowsPerPage:10,page:g,onChangePage:function(e,t){h(t)}})),r.a.createElement($,{open:H,data:F,handleClose:function(){G(!1),J(null)},handleSubmit:function(e){F?function(e){return I.a.put("/api/contacts",e,{headers:N})}(e).then((function(t){var a=x.map((function(a){return a._id===e._id?t.data.data:a}));_(a),J(null),G(!1),ee(!1,"contact updated successfully")})).catch((function(e){J(null),G(!1),ee(!0,e.response&&e.response.data&&e.response.data.error?e.response.data.error:"Something went wrong")})):function(e){return I.a.post("/api/contacts",e,{headers:N})}(e).then((function(e){var t=[e.data.data].concat(Object(b.a)(x));_(t),J(null),G(!1),ee(!1,"contact created successfully")})).catch((function(e){ee(!0,e.response&&e.response.data&&e.response.data.error?e.response.data.error:"Something went wrong"),J(null),G(!1)}))}}),r.a.createElement("div",{style:{position:"fixed",zIndex:9999,bottom:30,right:30}},r.a.createElement(Y.a,{color:"primary","aria-label":"add",onClick:function(){return G(!0)}},r.a.createElement(U.a,null))))},ie=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(l.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(l.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(f.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(l.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"40ch","&:focus":{width:"70ch"}})}}));function oe(){var e=ie(),t=Object(n.useState)(""),a=Object(c.a)(t,2),i=a[0],o=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement(s.a,{position:"static"},r.a.createElement(u.a,null,r.a.createElement(d.a,{className:e.title,variant:"h6",noWrap:!0},"Contacts"),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(h.a,null)),r.a.createElement(m.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){o(e.target.value)}})))),r.a.createElement(re,{search:i}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a(124)}},[[97,1,2]]]);
//# sourceMappingURL=main.2120d688.chunk.js.map